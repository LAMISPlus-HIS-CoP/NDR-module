(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{344:function(e,t,a){e.exports=a(444)},351:function(e,t,a){},444:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(16),l=a.n(c),i=(a(351),a(190)),o=a(33),s=a(64),u=a(341),f=a(281),d=a(313),m=a(319),g=a(311),b=a(101),p=a(240),E=a(271),h=a(137),O=a.n(h),j=a(320),w=a(209),y=a(245),x=a(246),v=a(287),S=a(286),R=a(285),k=a(321),C=a(191),F=a.n(C),N=new URLSearchParams(window.location.search).get("jwt"),z="/api/v1/",P=a(452),T=a(453),D=a(456),G=a(454),A=a(267),B=a(284),L=a(324),M=a.n(L),I=a(457),U=a(455),W=a(199),J=(a(370),a(371),Object(f.a)(function(e){return{root:{width:"100%",maxWidth:360,backgroundColor:e.palette.background.paper,"& > * + *":{marginTop:e.spacing(2)}}}}));function H(e){var t=Object(n.useState)(!0),a=Object(s.a)(t,2),c=(a[0],a[1],Object(o.f)(),J()),l=Object(n.useState)([]),i=Object(s.a)(l,2),u=i[0],f=i[1],d=Object(n.useState)(!1),m=Object(s.a)(d,2),g=m[0],b=m[1],p=Object(n.useState)({facilities:[]}),E=Object(s.a)(p,2),h=E[0],C=(E[1],r.a.useState([])),L=Object(s.a)(C,2),H=L[0],V=L[1],_=Object(n.useState)(null),q=Object(s.a)(_,2),K=(q[0],q[1]),Q=Object(n.useState)(!1),X=Object(s.a)(Q,2),Y=X[0],Z=X[1];function $(){return($=Object(w.a)(O.a.mark(function e(){return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:F.a.get("".concat(z,"account"),{headers:{Authorization:"Bearer ".concat(N)}}).then(function(e){K(e.data),f(e.data.applicationUserOrganisationUnits)}).catch(function(e){});case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}Object(n.useEffect)(function(){!function(){$.apply(this,arguments)}()},[]);var ee=function(e){return function(){var t=H.indexOf(e),a=Object(j.a)(H);-1===t?a.push(e):a.splice(t,1),V(a)}};return r.a.createElement("div",null,r.a.createElement(W.a,{autoClose:3e3,hideProgressBar:!0}),r.a.createElement(P.a,null,r.a.createElement(T.a,null,H.length>=1?r.a.createElement(r.a.Fragment,null,r.a.createElement(B.a,{color:"primary",variant:"contained",className:" float-right mr-1",size:"large",hidden:g,onClick:function(){return function(){b(!0),Z(!0);var e="";H.forEach(function(t){var a=t.organisationUnitId;e="facilityIds="+a}),h.facilities=e,F.a.get("".concat(z,"ndr/generate?").concat(e),{headers:{Authorization:"Bearer ".concat(N)}}).then(function(e){W.b.success(" Generating NDR Successful!"),Z(!1)}).catch(function(e){if(Z(!1),b(!1),e.response&&e.response.data){var t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";W.b.error(t)}else W.b.error("Something went wrong. Please try again...")})}()}},r.a.createElement(A.a,null)," \xa0\xa0",r.a.createElement("span",{style:{textTransform:"capitalize"}}," Generate Messages"))):r.a.createElement(r.a.Fragment,null,r.a.createElement(B.a,{color:"primary",variant:"contained",className:" float-right mr-1",size:"large",disabled:"true"},r.a.createElement(A.a,null)," \xa0\xa0",r.a.createElement("span",{style:{textTransform:"capitalize"}}," Generate Messages "))),r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null)," ",r.a.createElement("br",null),r.a.createElement(D.a,{severity:"info"},r.a.createElement(G.a,null,"Info"),"Please check the Facilities you want"),r.a.createElement("br",null),r.a.createElement(y.a,{dense:!0,className:c.root},r.a.createElement("br",null),u.map(function(e){var t="checkbox-list-secondary-label-".concat(e.id);return r.a.createElement(x.a,{key:e.id,button:!0},r.a.createElement(R.a,null,r.a.createElement(M.a,null)),r.a.createElement(S.a,{id:t,primary:"".concat(e.organisationUnitName)}),r.a.createElement(v.a,null,r.a.createElement(k.a,{edge:"end",onChange:ee(e),checked:-1!==H.indexOf(e),inputProps:{"aria-labelledby":t}})))}))))),r.a.createElement(I.a,{isOpen:Y,toggle:function(){return Z(!Y)},backdrop:!1,fade:!0,style:{marginTop:"250px"}},r.a.createElement(U.a,null,r.a.createElement("h2",null,"Generating NDR Please wait..."))))}var V=a(247),_=a.n(V),q=a(297),K=a(244),Q=a(340),X=a.n(Q),Y=a(327),Z=a.n(Y),$=a(337),ee=a.n($),te=a(328),ae=a.n(te),ne=a(335),re=a.n(ne),ce=a(270),le=a.n(ce),ie=a(269),oe=a.n(ie),se=a(329),ue=a.n(se),fe=a(330),de=a.n(fe),me=a(332),ge=a.n(me),be=a(333),pe=a.n(be),Ee=a(334),he=a.n(Ee),Oe=a(338),je=a.n(Oe),we=a(331),ye=a.n(we),xe=a(336),ve=a.n(xe),Se=a(339),Re=a.n(Se),ke={Add:Object(n.forwardRef)(function(e,t){return r.a.createElement(Z.a,Object.assign({},e,{ref:t}))}),Check:Object(n.forwardRef)(function(e,t){return r.a.createElement(ae.a,Object.assign({},e,{ref:t}))}),Clear:Object(n.forwardRef)(function(e,t){return r.a.createElement(oe.a,Object.assign({},e,{ref:t}))}),Delete:Object(n.forwardRef)(function(e,t){return r.a.createElement(ue.a,Object.assign({},e,{ref:t}))}),DetailPanel:Object(n.forwardRef)(function(e,t){return r.a.createElement(le.a,Object.assign({},e,{ref:t}))}),Edit:Object(n.forwardRef)(function(e,t){return r.a.createElement(de.a,Object.assign({},e,{ref:t}))}),Export:Object(n.forwardRef)(function(e,t){return r.a.createElement(ye.a,Object.assign({},e,{ref:t}))}),Filter:Object(n.forwardRef)(function(e,t){return r.a.createElement(ge.a,Object.assign({},e,{ref:t}))}),FirstPage:Object(n.forwardRef)(function(e,t){return r.a.createElement(pe.a,Object.assign({},e,{ref:t}))}),LastPage:Object(n.forwardRef)(function(e,t){return r.a.createElement(he.a,Object.assign({},e,{ref:t}))}),NextPage:Object(n.forwardRef)(function(e,t){return r.a.createElement(le.a,Object.assign({},e,{ref:t}))}),PreviousPage:Object(n.forwardRef)(function(e,t){return r.a.createElement(re.a,Object.assign({},e,{ref:t}))}),ResetSearch:Object(n.forwardRef)(function(e,t){return r.a.createElement(oe.a,Object.assign({},e,{ref:t}))}),Search:Object(n.forwardRef)(function(e,t){return r.a.createElement(ve.a,Object.assign({},e,{ref:t}))}),SortArrow:Object(n.forwardRef)(function(e,t){return r.a.createElement(ee.a,Object.assign({},e,{ref:t}))}),ThirdStateCheck:Object(n.forwardRef)(function(e,t){return r.a.createElement(je.a,Object.assign({},e,{ref:t}))}),ViewColumn:Object(n.forwardRef)(function(e,t){return r.a.createElement(Re.a,Object.assign({},e,{ref:t}))})},Ce=Object(f.a)(function(e){return{root:{width:"100%",maxWidth:360,backgroundColor:e.palette.background.paper,"& > * + *":{marginTop:e.spacing(2)}}}});function Fe(){Ce();var e=Object(n.useState)([]),t=Object(s.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(""),o=Object(s.a)(l,2),u=o[0];o[1];function f(){return(f=Object(w.a)(O.a.mark(function e(){return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:F.a.get("".concat(z,"ndr/files"),{headers:{Authorization:"Bearer ".concat(N)}}).then(function(e){c(e.data),console.log(e.data)}).catch(function(e){});case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}return Object(n.useEffect)(function(){!function(){f.apply(this,arguments)}()},[]),r.a.createElement("div",null,r.a.createElement(P.a,null,r.a.createElement(T.a,null,r.a.createElement(_.a,{icons:ke,title:"List of Filies Generated",columns:[{title:"Facility Name",field:"name",filtering:!1},{title:"Number of Files Generated",field:"files",filtering:!1},{title:"Date Last Generated",field:"date",type:"date",filtering:!1},{title:"Action",field:"actions",filtering:!1}],isLoading:u,data:a.map(function(e){return{name:e.facility,files:e.files,date:e.lastModified,actions:r.a.createElement(i.b,{to:z+"/download"+e.fileName,target:"_blank",download:!0},r.a.createElement(q.a,{title:"Download"},r.a.createElement(K.a,{"aria-label":"Download"},r.a.createElement(X.a,{color:"primary"}))))}}),options:{pageSizeOptions:[5,10,50,100,150,200],headerStyle:{backgroundColor:"#014d88",color:"#fff",margin:"auto"},filtering:!0,searchFieldStyle:{width:"300%",margingLeft:"250px"},exportButton:!0,searchFieldAlignment:"left"}}))))}function Ne(e){var t=e.children,a=e.value,n=e.index,c=Object(u.a)(e,["children","value","index"]);return r.a.createElement(b.a,Object.assign({component:"div",role:"tabpanel",hidden:a!==n,id:"scrollable-force-tabpanel-".concat(n),"aria-labelledby":"scrollable-force-tab-".concat(n)},c),a===n&&r.a.createElement(p.a,{p:5},t))}function ze(e){return{id:"scrollable-force-tab-".concat(e),"aria-controls":"scrollable-force-tabpanel-".concat(e)}}var Pe=Object(f.a)(function(e){return{root2:{flexGrow:1,width:"100%",backgroundColor:e.palette.background.paper,margin:e.spacing(7),bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:12},pos:{fontSize:11},cardContent:{padding:2},cardroot:{margin:e.spacing(1),height:"250px !important"}},alertmsge:{marginTop:e.spacing(2)},rootaccordia:{width:"100%"},accordiaheading:{fontSize:e.typography.pxToRem(15),fontWeight:e.typography.fontWeightRegular},allergiesroot:{display:"flex",justifyContent:"center",flexWrap:"wrap","& > *":{margin:e.spacing(.5)}},checkboxroot:{display:"flex"},formControl:{margin:e.spacing(3)},root:{"& .MuiTextField-root":{margin:e.spacing(1),width:200}},formroot:{"& .MuiTextField-root":{margin:e.spacing(1),width:200}},heading:{fontSize:e.typography.pxToRem(15)},secondaryHeading:{fontSize:e.typography.pxToRem(15),color:e.palette.text.secondary},icon:{verticalAlign:"bottom",height:20,width:20},details:{alignItems:"center"},column:{flexBasis:"33.33%"},helper:{borderLeft:"2px solid ".concat(e.palette.divider),padding:e.spacing(1,2)},link:{color:e.palette.primary.main,textDecoration:"none","&:hover":{textDecoration:"underline"}},inforoot:{width:"95%",margin:20,backgroundColor:"#eee"}}}),Te=function(e){var t=Pe(),a=Object(n.useState)(0),c=Object(s.a)(a,2),l=c[0],i=c[1],o=function(e,t){var a=t,n=new RegExp("[?&]"+e+"=([^&#]*)","i").exec(a);return n?n[1]:null}("tab",e.location),u=null!==o?o:e.location;Object(n.useEffect)(function(){switch(u){case"generate":return i(0);case"download":return i(1);default:return i(0)}},[o]);return r.a.createElement("div",{className:t.root},r.a.createElement("div",{className:t.inforoot}),r.a.createElement(d.a,{position:"static",style:{backgroundColor:"#014d88"}},r.a.createElement(m.a,{value:l,onChange:function(e,t){i(t)},variant:"scrollable",scrollButtons:"on",indicatorColor:"secondary",textColor:"inherit","aria-label":"scrollable force tabs example"},r.a.createElement(g.a,Object.assign({className:t.title,label:"Generate Messages ",icon:r.a.createElement(E.b,null)},ze(0))),r.a.createElement(g.a,Object.assign({className:t.title,label:"Download Files",icon:r.a.createElement(E.a,null)},ze(1)))),r.a.createElement("div",null)),r.a.createElement(Ne,{value:l,index:0},r.a.createElement(H,null)),r.a.createElement(Ne,{value:l,index:1},r.a.createElement(Fe,null)))};function De(){return r.a.createElement(i.a,null,r.a.createElement("div",null,r.a.createElement(o.c,null,r.a.createElement(o.a,{path:"/"},r.a.createElement(Ge,null)))))}function Ge(){return r.a.createElement(Te,null)}a(443);l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(De,null)),document.getElementById("root"))}},[[344,1,2]]]);
//# sourceMappingURL=main.6fb98982.chunk.js.map